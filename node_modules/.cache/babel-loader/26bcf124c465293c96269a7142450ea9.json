{"remainingRequest":"/Users/apple/code/js/vue-cli-3-example/node_modules/babel-loader/lib/index.js!/Users/apple/code/js/vue-cli-3-example/node_modules/@vux/loader/src/js-loader.js!/Users/apple/code/js/vue-cli-3-example/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/apple/code/js/vue-cli-3-example/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/apple/code/js/vue-cli-3-example/node_modules/@vux/loader/src/script-loader.js!/Users/apple/code/js/vue-cli-3-example/node_modules/vux/src/components/marquee/marquee.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/apple/code/js/vue-cli-3-example/node_modules/vux/src/components/marquee/marquee.vue","mtime":499162500000},{"path":"/Users/apple/code/js/vue-cli-3-example/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/code/js/vue-cli-3-example/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/apple/code/js/vue-cli-3-example/node_modules/@vux/loader/src/js-loader.js","mtime":499162500000},{"path":"/Users/apple/code/js/vue-cli-3-example/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/code/js/vue-cli-3-example/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Users/apple/code/js/vue-cli-3-example/node_modules/@vux/loader/src/script-loader.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.number.constructor\";\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: 'marquee',\n  props: {\n    interval: {\n      type: Number,\n      default: 2000\n    },\n    duration: {\n      type: Number,\n      default: 300\n    },\n    direction: {\n      type: String,\n      default: 'up'\n    },\n    itemHeight: Number\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.destroy();\n  },\n  data: function data() {\n    return {\n      currenTranslateY: 0,\n      height: '',\n      length: 0,\n      currentIndex: 0,\n      noAnimate: false\n    };\n  },\n  methods: {\n    destroy: function destroy() {\n      this.timer && clearInterval(this.timer);\n    },\n    init: function init() {\n      this.destroy();\n\n      if (this.cloneNode) {\n        this.$refs.box.removeChild(this.cloneNode);\n      }\n\n      this.cloneNode = null;\n      var firstItem = this.$refs.box.firstElementChild;\n\n      if (!firstItem) {\n        return false;\n      }\n\n      this.length = this.$refs.box.children.length;\n      this.height = this.itemHeight || firstItem.offsetHeight;\n\n      if (this.direction === 'up') {\n        this.cloneNode = firstItem.cloneNode(true);\n        this.$refs.box.appendChild(this.cloneNode);\n      } else {\n        this.cloneNode = this.$refs.box.lastElementChild.cloneNode(true);\n        this.$refs.box.insertBefore(this.cloneNode, firstItem);\n      }\n\n      return true;\n    },\n    start: function start() {\n      var _this = this;\n\n      if (this.direction === 'down') this.go(false);\n      this.timer = setInterval(function () {\n        if (_this.direction === 'up') {\n          _this.currentIndex += 1;\n          _this.currenTranslateY = -_this.currentIndex * _this.height;\n        } else {\n          _this.currentIndex -= 1;\n          _this.currenTranslateY = -(_this.currentIndex + 1) * _this.height;\n        }\n\n        if (_this.currentIndex === _this.length) {\n          setTimeout(function () {\n            _this.go(true);\n          }, _this.duration);\n        } else if (_this.currentIndex === -1) {\n          setTimeout(function () {\n            _this.go(false);\n          }, _this.duration);\n        } else {\n          _this.noAnimate = false;\n        }\n      }, this.interval + this.duration);\n    },\n    go: function go(toFirst) {\n      this.noAnimate = true;\n\n      if (toFirst) {\n        this.currentIndex = 0;\n        this.currenTranslateY = 0;\n      } else {\n        this.currentIndex = this.length - 1;\n        this.currenTranslateY = -(this.currentIndex + 1) * this.height;\n      }\n    }\n  }\n};",{"version":3,"sources":["/Users/apple/code/js/vue-cli-3-example/node_modules/vux/src/components/marquee/marquee.vue"],"names":["name","props","interval","type","Number","default","duration","direction","String","itemHeight","beforeDestroy","destroy","data","currenTranslateY","height","length","currentIndex","noAnimate","methods","timer","clearInterval","init","cloneNode","$refs","box","removeChild","firstItem","firstElementChild","children","offsetHeight","appendChild","lastElementChild","insertBefore","start","go","setInterval","setTimeout","toFirst"],"mappings":"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","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  name: 'marquee',\n  props: {\n    interval: {\n      type: Number,\n      default: 2000\n    },\n    duration: {\n      type: Number,\n      default: 300\n    },\n    direction: {\n      type: String,\n      default: 'up'\n    },\n    itemHeight: Number\n  },\n  beforeDestroy () {\n    this.destroy()\n  },\n  data () {\n    return {\n      currenTranslateY: 0,\n      height: '',\n      length: 0,\n      currentIndex: 0,\n      noAnimate: false\n    }\n  },\n  methods: {\n    destroy () {\n      this.timer && clearInterval(this.timer)\n    },\n    init () {\n      this.destroy()\n\n      if (this.cloneNode) {\n        this.$refs.box.removeChild(this.cloneNode)\n      }\n\n      this.cloneNode = null\n      let firstItem = this.$refs.box.firstElementChild\n      if (!firstItem) {\n        return false\n      }\n      this.length = this.$refs.box.children.length\n      this.height = this.itemHeight || firstItem.offsetHeight\n\n      if (this.direction === 'up') {\n        this.cloneNode = firstItem.cloneNode(true)\n        this.$refs.box.appendChild(this.cloneNode)\n      } else {\n        this.cloneNode = this.$refs.box.lastElementChild.cloneNode(true)\n        this.$refs.box.insertBefore(this.cloneNode, firstItem)\n      }\n      return true\n    },\n    start () {\n      if (this.direction === 'down') this.go(false)\n      this.timer = setInterval(() => {\n        if (this.direction === 'up') {\n          this.currentIndex += 1\n          this.currenTranslateY = -this.currentIndex * this.height\n        } else {\n          this.currentIndex -= 1\n          this.currenTranslateY = -(this.currentIndex + 1) * this.height\n        }\n        if (this.currentIndex === this.length) {\n          setTimeout(() => {\n            this.go(true)\n          }, this.duration)\n        } else if (this.currentIndex === -1) {\n          setTimeout(() => {\n            this.go(false)\n          }, this.duration)\n        } else {\n          this.noAnimate = false\n        }\n      }, this.interval + this.duration)\n    },\n    go (toFirst) {\n      this.noAnimate = true\n      if (toFirst) {\n        this.currentIndex = 0\n        this.currenTranslateY = 0\n      } else {\n        this.currentIndex = this.length - 1\n        this.currenTranslateY = -(this.currentIndex + 1) * this.height\n      }\n    }\n  }\n}\n"]}]}