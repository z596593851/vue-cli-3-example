{"remainingRequest":"/Users/apple/code/js/vue-cli-3-example/node_modules/babel-loader/lib/index.js!/Users/apple/code/js/vue-cli-3-example/node_modules/@vux/loader/src/js-loader.js!/Users/apple/code/js/vue-cli-3-example/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/apple/code/js/vue-cli-3-example/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/apple/code/js/vue-cli-3-example/node_modules/@vux/loader/src/script-loader.js!/Users/apple/code/js/vue-cli-3-example/node_modules/vux/src/components/x-textarea/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/apple/code/js/vue-cli-3-example/node_modules/vux/src/components/x-textarea/index.vue","mtime":499162500000},{"path":"/Users/apple/code/js/vue-cli-3-example/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/code/js/vue-cli-3-example/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/apple/code/js/vue-cli-3-example/node_modules/@vux/loader/src/js-loader.js","mtime":499162500000},{"path":"/Users/apple/code/js/vue-cli-3-example/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/code/js/vue-cli-3-example/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Users/apple/code/js/vue-cli-3-example/node_modules/@vux/loader/src/script-loader.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.match\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.number.constructor\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Base from \"../../libs/base\";\nimport InlineDesc from \"../inline-desc\";\nimport Autosize from 'autosize'; // prop.autosize\n\nexport default {\n  name: 'x-textarea',\n  minxins: [Base],\n  mounted: function mounted() {\n    var _this = this;\n\n    if (this.$slots && this.$slots['restricted-label']) {\n      this.hasRestrictedLabel = true;\n    } // prop.autosize\n\n\n    this.$nextTick(function () {\n      if (_this.autosize) {\n        _this.bindAutosize();\n      }\n    }); // prop.autosize\n  },\n  components: {\n    InlineDesc: InlineDesc\n  },\n  props: {\n    title: String,\n    inlineDesc: String,\n    showCounter: {\n      type: Boolean,\n      default: true\n    },\n    max: Number,\n    value: String,\n    name: String,\n    placeholder: String,\n    readonly: Boolean,\n    disabled: Boolean,\n    rows: {\n      type: Number,\n      default: 3\n    },\n    cols: {\n      type: Number,\n      default: 30\n    },\n    height: Number,\n    // https://github.com/yisibl/blog/issues/3\n    autocomplete: {\n      type: String,\n      default: 'off'\n    },\n    autocapitalize: {\n      type: String,\n      default: 'off'\n    },\n    autocorrect: {\n      type: String,\n      default: 'off'\n    },\n    spellcheck: {\n      type: String,\n      default: 'false'\n    },\n    autosize: Boolean // prop.autosize\n\n  },\n  created: function created() {\n    this.currentValue = this.value;\n  },\n  watch: {\n    // prop.autosize\n    autosize: function autosize(val) {\n      this.unbindAutosize();\n\n      if (val) {\n        this.bindAutosize();\n      }\n    },\n    // prop.autosize\n    value: function value(val) {\n      this.currentValue = val;\n    },\n    currentValue: function currentValue(newVal) {\n      var _this2 = this;\n\n      if (this.max && newVal) {\n        var len = newVal.replace(/\\n/g, 'aa').length;\n\n        if (len > this.max) {\n          var newLines = newVal.match(/\\n/g).length;\n          this.currentValue = newVal.slice(0, this.max - newLines);\n          this.$nextTick(function () {\n            if (_this2.autosize) {\n              _this2.updateAutosize();\n            }\n          });\n        }\n      }\n\n      this.$emit('input', this.currentValue);\n      this.$emit('on-change', this.currentValue);\n    }\n  },\n  data: function data() {\n    return {\n      hasRestrictedLabel: false,\n      currentValue: ''\n    };\n  },\n  computed: {\n    count: function count() {\n      var len = 0;\n\n      if (this.currentValue) {\n        len = this.currentValue.replace(/\\n/g, 'aa').length;\n      }\n\n      return len > this.max ? this.max : len;\n    },\n    textareaStyle: function textareaStyle() {\n      if (this.height) {\n        return {\n          height: \"\".concat(this.height, \"px\")\n        };\n      }\n    },\n    labelStyles: function labelStyles() {\n      var _this$$parent = this.$parent,\n          $parent = _this$$parent === void 0 ? {} : _this$$parent;\n      return {\n        width: $parent.labelWidth || this.labelWidth + 'em',\n        textAlign: $parent.labelAlign,\n        marginRight: $parent.labelMarginRight\n      };\n    },\n    labelWidth: function labelWidth() {\n      return this.title.replace(/[^x00-xff]/g, '00').length / 2 + 1;\n    },\n    labelClass: function labelClass() {\n      if (!this.$parent) return {};\n      return {\n        'vux-cell-justify': this.$parent.labelAlign === 'justify' || this.$parent.$parent.labelAlign === 'justify'\n      };\n    }\n  },\n  methods: {\n    updateAutosize: function updateAutosize() {\n      Autosize.update(this.$refs.textarea);\n    },\n    // prop.autosize\n    bindAutosize: function bindAutosize() {\n      Autosize(this.$refs.textarea);\n    },\n    unbindAutosize: function unbindAutosize() {\n      Autosize.destroy(this.$refs.textarea);\n    },\n    // prop.autosize\n    focus: function focus() {\n      this.$refs.textarea.focus();\n    }\n  },\n  // prop.autosize\n  beforeDestroy: function beforeDestroy() {\n    this.unbindAutosize();\n  } // prop.autosize\n\n};",{"version":3,"sources":["/Users/apple/code/js/vue-cli-3-example/node_modules/vux/src/components/x-textarea/index.vue"],"names":["Base","InlineDesc","Autosize","name","minxins","mounted","$slots","hasRestrictedLabel","$nextTick","autosize","bindAutosize","components","props","title","String","inlineDesc","showCounter","type","Boolean","default","max","Number","value","placeholder","readonly","disabled","rows","cols","height","autocomplete","autocapitalize","autocorrect","spellcheck","created","currentValue","watch","val","unbindAutosize","newVal","len","replace","length","newLines","match","slice","updateAutosize","$emit","data","computed","count","textareaStyle","labelStyles","$parent","width","labelWidth","textAlign","labelAlign","marginRight","labelMarginRight","labelClass","methods","update","$refs","textarea","destroy","focus","beforeDestroy"],"mappings":"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","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Base from '../../libs/base'\nimport InlineDesc from '../inline-desc'\nimport Autosize from 'autosize' // prop.autosize\n\nexport default {\n  name: 'x-textarea',\n  minxins: [Base],\n  mounted () {\n    if (this.$slots && this.$slots['restricted-label']) {\n      this.hasRestrictedLabel = true\n    }\n    // prop.autosize\n    this.$nextTick(() => {\n      if (this.autosize) {\n        this.bindAutosize()\n      }\n    })\n    // prop.autosize\n  },\n  components: {\n    InlineDesc\n  },\n  props: {\n    title: String,\n    inlineDesc: String,\n    showCounter: {\n      type: Boolean,\n      default: true\n    },\n    max: Number,\n    value: String,\n    name: String,\n    placeholder: String,\n    readonly: Boolean,\n    disabled: Boolean,\n    rows: {\n      type: Number,\n      default: 3\n    },\n    cols: {\n      type: Number,\n      default: 30\n    },\n    height: Number,\n    // https://github.com/yisibl/blog/issues/3\n    autocomplete: {\n      type: String,\n      default: 'off'\n    },\n    autocapitalize: {\n      type: String,\n      default: 'off'\n    },\n    autocorrect: {\n      type: String,\n      default: 'off'\n    },\n    spellcheck: {\n      type: String,\n      default: 'false'\n    },\n    autosize: Boolean // prop.autosize\n  },\n  created () {\n    this.currentValue = this.value\n  },\n  watch: {\n    // prop.autosize\n    autosize (val) {\n      this.unbindAutosize()\n      if (val) {\n        this.bindAutosize()\n      }\n    },\n    // prop.autosize\n    value (val) {\n      this.currentValue = val\n    },\n    currentValue (newVal) {\n      if (this.max && newVal) {\n        let len = newVal.replace(/\\n/g, 'aa').length\n        if (len > this.max) {\n          let newLines = newVal.match(/\\n/g).length\n          this.currentValue = newVal.slice(0, this.max - newLines)\n          this.$nextTick(() => {\n            if (this.autosize) {\n              this.updateAutosize()\n            }\n          })\n        }\n      }\n      this.$emit('input', this.currentValue)\n      this.$emit('on-change', this.currentValue)\n    }\n  },\n  data () {\n    return {\n      hasRestrictedLabel: false,\n      currentValue: ''\n    }\n  },\n  computed: {\n    count () {\n      let len = 0\n      if (this.currentValue) {\n        len = this.currentValue.replace(/\\n/g, 'aa').length\n      }\n      return len > this.max ? this.max : len\n    },\n    textareaStyle () {\n      if (this.height) {\n        return {\n          height: `${this.height}px`\n        }\n      }\n    },\n    labelStyles () {\n      const {$parent = {}} = this\n      return {\n        width: $parent.labelWidth || (this.labelWidth + 'em'),\n        textAlign: $parent.labelAlign,\n        marginRight: $parent.labelMarginRight\n      }\n    },\n    labelWidth () {\n      return this.title.replace(/[^x00-xff]/g, '00').length / 2 + 1\n    },\n    labelClass () {\n      if (!this.$parent) return {}\n      return {\n        'vux-cell-justify': this.$parent.labelAlign === 'justify' || this.$parent.$parent.labelAlign === 'justify'\n      }\n    }\n  },\n  methods: {\n    updateAutosize () {\n      Autosize.update(this.$refs.textarea)\n    },\n    // prop.autosize\n    bindAutosize () {\n      Autosize(this.$refs.textarea)\n    },\n    unbindAutosize () {\n      Autosize.destroy(this.$refs.textarea)\n    },\n    // prop.autosize\n    focus () {\n      this.$refs.textarea.focus()\n    }\n  },\n  // prop.autosize\n  beforeDestroy () {\n    this.unbindAutosize()\n  }\n  // prop.autosize\n}\n"]}]}