{"remainingRequest":"/Users/apple/code/js/vue-cli-3-example/node_modules/babel-loader/lib/index.js!/Users/apple/code/js/vue-cli-3-example/node_modules/@vux/loader/src/js-loader.js!/Users/apple/code/js/vue-cli-3-example/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/apple/code/js/vue-cli-3-example/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/apple/code/js/vue-cli-3-example/node_modules/@vux/loader/src/script-loader.js!/Users/apple/code/js/vue-cli-3-example/node_modules/vux/src/components/x-img/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/apple/code/js/vue-cli-3-example/node_modules/vux/src/components/x-img/index.vue","mtime":499162500000},{"path":"/Users/apple/code/js/vue-cli-3-example/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/code/js/vue-cli-3-example/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/apple/code/js/vue-cli-3-example/node_modules/@vux/loader/src/js-loader.js","mtime":499162500000},{"path":"/Users/apple/code/js/vue-cli-3-example/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/code/js/vue-cli-3-example/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Users/apple/code/js/vue-cli-3-example/node_modules/@vux/loader/src/script-loader.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.number.constructor\";\nimport \"core-js/modules/es6.regexp.replace\";\n//\n//\n//\n//\nimport Blazy from 'vux-blazy';\nimport { isSupported, detectWebp } from \"../../libs/webp-support\";\nimport uuidMixin from \"../../libs/mixin_uuid\";\nexport default {\n  name: 'x-img',\n  mixins: [uuidMixin],\n  created: function created() {\n    this.$vux && this.$vux.bus && this.$vux.bus.$on('vux:after-view-enter', this.init);\n  },\n  methods: {\n    init: function init() {\n      var _this = this;\n\n      this.blazy && this.blazy.destroy();\n      this.$el.src = this.defaultSrc;\n      this.$el.className = this.$el.className.replace('b-loaded', '');\n      this.blazy = new Blazy({\n        scroller: this.scroller,\n        container: this.container,\n        selector: \"#vux-ximg-\".concat(this.uuid),\n        offset: _this.offset,\n        errorClass: _this.errorClass,\n        successClass: _this.successClass,\n        separator: _this.separator,\n        success: function success(ele) {\n          _this.$emit('on-success', _this.src, ele);\n        },\n        error: function error(ele, msg) {\n          _this.$emit('on-error', _this.src, ele, msg);\n        }\n      });\n    }\n  },\n  mounted: function mounted() {\n    var _this2 = this;\n\n    this.$el.setAttribute('id', \"vux-ximg-\".concat(this.uuid));\n    this.$nextTick(function () {\n      setTimeout(function () {\n        _this2.init();\n      }, _this2.delay);\n    });\n    detectWebp();\n  },\n  computed: {\n    currentSrc: function currentSrc() {\n      if (isSupported() && this.webpSrc) {\n        return this.webpSrc;\n      }\n\n      return this.src;\n    }\n  },\n  props: {\n    src: String,\n    webpSrc: String,\n    defaultSrc: {\n      type: String,\n      default: 'data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=='\n    },\n    errorClass: String,\n    successClass: String,\n    offset: {\n      type: Number,\n      default: 100\n    },\n    scroller: Object,\n    container: String,\n    delay: {\n      type: Number,\n      default: 0\n    },\n    separator: String\n  },\n  watch: {\n    src: function src(val) {\n      this.init();\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.blazy && this.blazy.destroy();\n    this.blazy = null;\n    this.$vux && this.$vux.bus && this.$vux.bus.$off('vux:after-view-enter', this.init);\n  }\n};",{"version":3,"sources":["/Users/apple/code/js/vue-cli-3-example/node_modules/vux/src/components/x-img/index.vue"],"names":["Blazy","isSupported","detectWebp","uuidMixin","name","mixins","created","$vux","bus","$on","init","methods","_this","blazy","destroy","$el","src","defaultSrc","className","replace","scroller","container","selector","uuid","offset","errorClass","successClass","separator","success","ele","$emit","error","msg","mounted","setAttribute","$nextTick","setTimeout","delay","computed","currentSrc","webpSrc","props","String","type","default","Number","Object","watch","val","beforeDestroy","$off"],"mappings":"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","sourcesContent":["//\n//\n//\n//\n\nimport Blazy from 'vux-blazy'\nimport { isSupported, detectWebp } from '../../libs/webp-support'\nimport uuidMixin from '../../libs/mixin_uuid'\n\nexport default {\n  name: 'x-img',\n  mixins: [uuidMixin],\n  created () {\n    this.$vux && this.$vux.bus && this.$vux.bus.$on('vux:after-view-enter', this.init)\n  },\n  methods: {\n    init () {\n      const _this = this\n\n      this.blazy && this.blazy.destroy()\n      this.$el.src = this.defaultSrc\n      this.$el.className = this.$el.className.replace('b-loaded', '')\n\n      this.blazy = new Blazy({\n        scroller: this.scroller,\n        container: this.container,\n        selector: `#vux-ximg-${this.uuid}`,\n        offset: _this.offset,\n        errorClass: _this.errorClass,\n        successClass: _this.successClass,\n        separator: _this.separator,\n        success (ele) {\n          _this.$emit('on-success', _this.src, ele)\n        },\n        error (ele, msg) {\n          _this.$emit('on-error', _this.src, ele, msg)\n        }\n      })\n    }\n  },\n  mounted () {\n    this.$el.setAttribute('id', `vux-ximg-${this.uuid}`)\n    this.$nextTick(() => {\n      setTimeout(() => {\n        this.init()\n      }, this.delay)\n    })\n    detectWebp()\n  },\n  computed: {\n    currentSrc () {\n      if (isSupported() && this.webpSrc) {\n        return this.webpSrc\n      }\n      return this.src\n    }\n  },\n  props: {\n    src: String,\n    webpSrc: String,\n    defaultSrc: {\n      type: String,\n      default: 'data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=='\n    },\n    errorClass: String,\n    successClass: String,\n    offset: {\n      type: Number,\n      default: 100\n    },\n    scroller: Object,\n    container: String,\n    delay: {\n      type: Number,\n      default: 0\n    },\n    separator: String\n  },\n  watch: {\n    src (val) {\n      this.init()\n    }\n  },\n  beforeDestroy () {\n    this.blazy && this.blazy.destroy()\n    this.blazy = null\n    this.$vux && this.$vux.bus && this.$vux.bus.$off('vux:after-view-enter', this.init)\n  }\n}\n"]}]}