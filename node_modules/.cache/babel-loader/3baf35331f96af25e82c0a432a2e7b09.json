{"remainingRequest":"/Users/apple/code/js/vue-cli-3-example/node_modules/babel-loader/lib/index.js!/Users/apple/code/js/vue-cli-3-example/node_modules/@vux/loader/src/js-loader.js!/Users/apple/code/js/vue-cli-3-example/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/apple/code/js/vue-cli-3-example/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/apple/code/js/vue-cli-3-example/node_modules/@vux/loader/src/script-loader.js!/Users/apple/code/js/vue-cli-3-example/node_modules/vux/src/components/tab/tab.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/apple/code/js/vue-cli-3-example/node_modules/vux/src/components/tab/tab.vue","mtime":499162500000},{"path":"/Users/apple/code/js/vue-cli-3-example/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/code/js/vue-cli-3-example/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/apple/code/js/vue-cli-3-example/node_modules/@vux/loader/src/js-loader.js","mtime":499162500000},{"path":"/Users/apple/code/js/vue-cli-3-example/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/code/js/vue-cli-3-example/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Users/apple/code/js/vue-cli-3-example/node_modules/@vux/loader/src/script-loader.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.number.constructor\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { parentMixin } from \"../../mixins/multi-items\";\nexport default {\n  name: 'tab',\n  mixins: [parentMixin],\n  mounted: function mounted() {\n    var _this = this;\n\n    // stop bar anmination on first loading\n    this.$nextTick(function () {\n      setTimeout(function () {\n        _this.hasReady = true;\n      }, 0);\n    });\n  },\n  props: {\n    lineWidth: {\n      type: Number,\n      default: 3\n    },\n    activeColor: String,\n    barActiveColor: String,\n    defaultColor: String,\n    disabledColor: String,\n    animate: {\n      type: Boolean,\n      default: true\n    },\n    customBarWidth: [Function, String],\n    preventDefault: Boolean,\n    scrollThreshold: {\n      type: Number,\n      default: 4\n    },\n    barPosition: {\n      type: String,\n      default: 'bottom',\n      validator: function validator(val) {\n        return ['bottom', 'top'].indexOf(val) !== -1;\n      }\n    }\n  },\n  computed: {\n    barLeft: function barLeft() {\n      if (this.hasReady) {\n        var nav = this.$refs.nav;\n        var count = this.scrollable ? nav.offsetWidth / this.$children[this.currentIndex || 0].$el.getBoundingClientRect().width : this.number;\n        return \"\".concat(this.currentIndex * (100 / count), \"%\");\n      }\n    },\n    barRight: function barRight() {\n      if (this.hasReady) {\n        var nav = this.$refs.nav;\n        var count = this.scrollable ? nav.offsetWidth / this.$children[this.currentIndex || 0].$el.getBoundingClientRect().width : this.number;\n        return \"\".concat((count - this.currentIndex - 1) * (100 / count), \"%\");\n      }\n    },\n    // when prop:custom-bar-width\n    innerBarStyle: function innerBarStyle() {\n      return {\n        width: typeof this.customBarWidth === 'function' ? this.customBarWidth(this.currentIndex) : this.customBarWidth,\n        background: this.barActiveColor || this.activeColor\n      };\n    },\n    // end\n    barStyle: function barStyle() {\n      var commonStyle = {\n        left: this.barLeft,\n        right: this.barRight,\n        display: 'block',\n        height: this.lineWidth + 'px',\n        transition: !this.hasReady ? 'none' : null\n      };\n\n      if (!this.customBarWidth) {\n        commonStyle.background = this.barActiveColor || this.activeColor;\n      } else {\n        commonStyle.background = 'transparent'; // when=prop:custom-bar-width\n      }\n\n      return commonStyle;\n    },\n    barClass: function barClass() {\n      return {\n        'vux-tab-ink-bar-transition-forward': this.direction === 'forward',\n        'vux-tab-ink-bar-transition-backward': this.direction === 'backward'\n      };\n    },\n    scrollable: function scrollable() {\n      return this.number > this.scrollThreshold;\n    }\n  },\n  watch: {\n    currentIndex: function currentIndex(newIndex, oldIndex) {\n      this.direction = newIndex > oldIndex ? 'forward' : 'backward';\n      this.$emit('on-index-change', newIndex, oldIndex);\n      this.hasReady && this.scrollToActiveTab();\n    }\n  },\n  data: function data() {\n    return {\n      direction: 'forward',\n      right: '100%',\n      hasReady: false\n    };\n  },\n  methods: {\n    scrollToActiveTab: function scrollToActiveTab() {\n      var _this2 = this;\n\n      if (!this.scrollable || !this.$children || !this.$children.length) {\n        return;\n      }\n\n      var currentIndexTab = this.$children[this.currentIndex].$el;\n      var count = 0; // scroll animation\n\n      var step = function step() {\n        var scrollDuration = 15;\n        var nav = _this2.$refs.nav;\n        nav.scrollLeft += (currentIndexTab.offsetLeft - (nav.offsetWidth - currentIndexTab.offsetWidth) / 2 - nav.scrollLeft) / scrollDuration;\n\n        if (++count < scrollDuration) {\n          window.requestAnimationFrame(step);\n        }\n      };\n\n      window.requestAnimationFrame(step);\n    }\n  }\n};",{"version":3,"sources":["/Users/apple/code/js/vue-cli-3-example/node_modules/vux/src/components/tab/tab.vue"],"names":["parentMixin","name","mixins","mounted","$nextTick","setTimeout","hasReady","props","lineWidth","type","Number","default","activeColor","String","barActiveColor","defaultColor","disabledColor","animate","Boolean","customBarWidth","Function","preventDefault","scrollThreshold","barPosition","validator","val","indexOf","computed","barLeft","nav","$refs","count","scrollable","offsetWidth","$children","currentIndex","$el","getBoundingClientRect","width","number","barRight","innerBarStyle","background","barStyle","commonStyle","left","right","display","height","transition","barClass","direction","watch","newIndex","oldIndex","$emit","scrollToActiveTab","data","methods","length","currentIndexTab","step","scrollDuration","scrollLeft","offsetLeft","window","requestAnimationFrame"],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,SAASA,WAAT;AAEA,eAAe;AACbC,EAAAA,IAAI,EAAE,KADO;AAEbC,EAAAA,MAAM,EAAE,CAACF,WAAD,CAFK;AAGbG,EAAAA,OAHa,qBAGF;AAAA;;AACT;AACA,SAAKC,SAAL,CAAe,YAAM;AACnBC,MAAAA,UAAU,CAAC,YAAM;AACf,QAAA,KAAI,CAACC,QAAL,GAAgB,IAAhB;AACD,OAFS,EAEP,CAFO,CAAV;AAGD,KAJD;AAKD,GAVY;AAWbC,EAAAA,KAAK,EAAE;AACLC,IAAAA,SAAS,EAAE;AACTC,MAAAA,IAAI,EAAEC,MADG;AAETC,MAAAA,OAAO,EAAE;AAFA,KADN;AAKLC,IAAAA,WAAW,EAAEC,MALR;AAMLC,IAAAA,cAAc,EAAED,MANX;AAOLE,IAAAA,YAAY,EAAEF,MAPT;AAQLG,IAAAA,aAAa,EAAEH,MARV;AASLI,IAAAA,OAAO,EAAE;AACPR,MAAAA,IAAI,EAAES,OADC;AAEPP,MAAAA,OAAO,EAAE;AAFF,KATJ;AAaLQ,IAAAA,cAAc,EAAE,CAACC,QAAD,EAAWP,MAAX,CAbX;AAcLQ,IAAAA,cAAc,EAAEH,OAdX;AAeLI,IAAAA,eAAe,EAAE;AACfb,MAAAA,IAAI,EAAEC,MADS;AAEfC,MAAAA,OAAO,EAAE;AAFM,KAfZ;AAmBLY,IAAAA,WAAW,EAAE;AACXd,MAAAA,IAAI,EAAEI,MADK;AAEXF,MAAAA,OAAO,EAAE,QAFE;AAGXa,MAAAA,SAHW,qBAGAC,GAHA,EAGK;AACd,eAAO,CAAC,QAAD,EAAW,KAAX,EAAkBC,OAAlB,CAA0BD,GAA1B,MAAmC,CAAC,CAA3C;AACD;AALU;AAnBR,GAXM;AAsCbE,EAAAA,QAAQ,EAAE;AACRC,IAAAA,OADQ,qBACG;AACT,UAAI,KAAKtB,QAAT,EAAmB;AACjB,YAAMuB,GAAG,GAAG,KAAKC,KAAL,CAAWD,GAAvB;AACA,YAAME,KAAK,GAAG,KAAKC,UAAL,GAAmBH,GAAG,CAACI,WAAJ,GAAkB,KAAKC,SAAL,CAAe,KAAKC,YAAL,IAAqB,CAApC,EAAuCC,GAAvC,CAA2CC,qBAA3C,GAAmEC,KAAxG,GAAiH,KAAKC,MAApI;AACA,yBAAU,KAAKJ,YAAL,IAAqB,MAAMJ,KAA3B,CAAV;AACD;AACF,KAPO;AAQRS,IAAAA,QARQ,sBAQI;AACV,UAAI,KAAKlC,QAAT,EAAmB;AACjB,YAAMuB,GAAG,GAAG,KAAKC,KAAL,CAAWD,GAAvB;AACA,YAAME,KAAK,GAAG,KAAKC,UAAL,GAAmBH,GAAG,CAACI,WAAJ,GAAkB,KAAKC,SAAL,CAAe,KAAKC,YAAL,IAAqB,CAApC,EAAuCC,GAAvC,CAA2CC,qBAA3C,GAAmEC,KAAxG,GAAiH,KAAKC,MAApI;AACA,yBAAU,CAACR,KAAK,GAAG,KAAKI,YAAb,GAA4B,CAA7B,KAAmC,MAAMJ,KAAzC,CAAV;AACD;AACF,KAdO;AAeR;AACAU,IAAAA,aAhBQ,2BAgBS;AACf,aAAO;AACLH,QAAAA,KAAK,EAAE,OAAO,KAAKnB,cAAZ,KAA+B,UAA/B,GAA4C,KAAKA,cAAL,CAAoB,KAAKgB,YAAzB,CAA5C,GAAqF,KAAKhB,cAD5F;AAELuB,QAAAA,UAAU,EAAE,KAAK5B,cAAL,IAAuB,KAAKF;AAFnC,OAAP;AAID,KArBO;AAsBR;AACA+B,IAAAA,QAvBQ,sBAuBI;AACV,UAAMC,WAAW,GAAG;AAClBC,QAAAA,IAAI,EAAE,KAAKjB,OADO;AAElBkB,QAAAA,KAAK,EAAE,KAAKN,QAFM;AAGlBO,QAAAA,OAAO,EAAE,OAHS;AAIlBC,QAAAA,MAAM,EAAE,KAAKxC,SAAL,GAAiB,IAJP;AAKlByC,QAAAA,UAAU,EAAE,CAAC,KAAK3C,QAAN,GAAiB,MAAjB,GAA0B;AALpB,OAApB;;AAOA,UAAI,CAAC,KAAKa,cAAV,EAA0B;AACxByB,QAAAA,WAAW,CAACF,UAAZ,GAAyB,KAAK5B,cAAL,IAAuB,KAAKF,WAArD;AACD,OAFD,MAEO;AACLgC,QAAAA,WAAW,CAACF,UAAZ,GAAyB,aAAzB,CADK,CACkC;AACxC;;AACD,aAAOE,WAAP;AACD,KArCO;AAsCRM,IAAAA,QAtCQ,sBAsCI;AACV,aAAO;AACL,8CAAsC,KAAKC,SAAL,KAAmB,SADpD;AAEL,+CAAuC,KAAKA,SAAL,KAAmB;AAFrD,OAAP;AAID,KA3CO;AA4CRnB,IAAAA,UA5CQ,wBA4CM;AACZ,aAAO,KAAKO,MAAL,GAAc,KAAKjB,eAA1B;AACD;AA9CO,GAtCG;AAsFb8B,EAAAA,KAAK,EAAE;AACLjB,IAAAA,YADK,wBACSkB,QADT,EACmBC,QADnB,EAC6B;AAChC,WAAKH,SAAL,GAAiBE,QAAQ,GAAGC,QAAX,GAAsB,SAAtB,GAAkC,UAAnD;AACA,WAAKC,KAAL,CAAW,iBAAX,EAA8BF,QAA9B,EAAwCC,QAAxC;AACA,WAAKhD,QAAL,IAAiB,KAAKkD,iBAAL,EAAjB;AACD;AALI,GAtFM;AA6FbC,EAAAA,IA7Fa,kBA6FL;AACN,WAAO;AACLN,MAAAA,SAAS,EAAE,SADN;AAELL,MAAAA,KAAK,EAAE,MAFF;AAGLxC,MAAAA,QAAQ,EAAE;AAHL,KAAP;AAKD,GAnGY;AAoGboD,EAAAA,OAAO,EAAE;AACPF,IAAAA,iBADO,+BACc;AAAA;;AACnB,UAAI,CAAC,KAAKxB,UAAN,IAAoB,CAAC,KAAKE,SAA1B,IAAuC,CAAC,KAAKA,SAAL,CAAeyB,MAA3D,EAAmE;AACjE;AACD;;AACD,UAAMC,eAAe,GAAG,KAAK1B,SAAL,CAAe,KAAKC,YAApB,EAAkCC,GAA1D;AACA,UAAIL,KAAK,GAAG,CAAZ,CALmB,CAMnB;;AACA,UAAM8B,IAAI,GAAG,SAAPA,IAAO,GAAM;AACjB,YAAMC,cAAc,GAAG,EAAvB;AACA,YAAMjC,GAAG,GAAG,MAAI,CAACC,KAAL,CAAWD,GAAvB;AACAA,QAAAA,GAAG,CAACkC,UAAJ,IAAkB,CAACH,eAAe,CAACI,UAAhB,GAA6B,CAACnC,GAAG,CAACI,WAAJ,GAAkB2B,eAAe,CAAC3B,WAAnC,IAAkD,CAA/E,GAAmFJ,GAAG,CAACkC,UAAxF,IAAsGD,cAAxH;;AACA,YAAI,EAAE/B,KAAF,GAAU+B,cAAd,EAA8B;AAC5BG,UAAAA,MAAM,CAACC,qBAAP,CAA6BL,IAA7B;AACD;AACF,OAPD;;AAQAI,MAAAA,MAAM,CAACC,qBAAP,CAA6BL,IAA7B;AACD;AAjBM;AApGI,CAAf","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { parentMixin } from '../../mixins/multi-items'\n\nexport default {\n  name: 'tab',\n  mixins: [parentMixin],\n  mounted () {\n    // stop bar anmination on first loading\n    this.$nextTick(() => {\n      setTimeout(() => {\n        this.hasReady = true\n      }, 0)\n    })\n  },\n  props: {\n    lineWidth: {\n      type: Number,\n      default: 3\n    },\n    activeColor: String,\n    barActiveColor: String,\n    defaultColor: String,\n    disabledColor: String,\n    animate: {\n      type: Boolean,\n      default: true\n    },\n    customBarWidth: [Function, String],\n    preventDefault: Boolean,\n    scrollThreshold: {\n      type: Number,\n      default: 4\n    },\n    barPosition: {\n      type: String,\n      default: 'bottom',\n      validator (val) {\n        return ['bottom', 'top'].indexOf(val) !== -1\n      }\n    }\n  },\n  computed: {\n    barLeft () {\n      if (this.hasReady) {\n        const nav = this.$refs.nav\n        const count = this.scrollable ? (nav.offsetWidth / this.$children[this.currentIndex || 0].$el.getBoundingClientRect().width) : this.number\n        return `${this.currentIndex * (100 / count)}%`\n      }\n    },\n    barRight () {\n      if (this.hasReady) {\n        const nav = this.$refs.nav\n        const count = this.scrollable ? (nav.offsetWidth / this.$children[this.currentIndex || 0].$el.getBoundingClientRect().width) : this.number\n        return `${(count - this.currentIndex - 1) * (100 / count)}%`\n      }\n    },\n    // when prop:custom-bar-width\n    innerBarStyle () {\n      return {\n        width: typeof this.customBarWidth === 'function' ? this.customBarWidth(this.currentIndex) : this.customBarWidth,\n        background: this.barActiveColor || this.activeColor\n      }\n    },\n    // end\n    barStyle () {\n      const commonStyle = {\n        left: this.barLeft,\n        right: this.barRight,\n        display: 'block',\n        height: this.lineWidth + 'px',\n        transition: !this.hasReady ? 'none' : null\n      }\n      if (!this.customBarWidth) {\n        commonStyle.background = this.barActiveColor || this.activeColor\n      } else {\n        commonStyle.background = 'transparent' // when=prop:custom-bar-width\n      }\n      return commonStyle\n    },\n    barClass () {\n      return {\n        'vux-tab-ink-bar-transition-forward': this.direction === 'forward',\n        'vux-tab-ink-bar-transition-backward': this.direction === 'backward'\n      }\n    },\n    scrollable () {\n      return this.number > this.scrollThreshold\n    }\n  },\n  watch: {\n    currentIndex (newIndex, oldIndex) {\n      this.direction = newIndex > oldIndex ? 'forward' : 'backward'\n      this.$emit('on-index-change', newIndex, oldIndex)\n      this.hasReady && this.scrollToActiveTab()\n    }\n  },\n  data () {\n    return {\n      direction: 'forward',\n      right: '100%',\n      hasReady: false\n    }\n  },\n  methods: {\n    scrollToActiveTab () {\n      if (!this.scrollable || !this.$children || !this.$children.length) {\n        return\n      }\n      const currentIndexTab = this.$children[this.currentIndex].$el\n      let count = 0\n      // scroll animation\n      const step = () => {\n        const scrollDuration = 15\n        const nav = this.$refs.nav\n        nav.scrollLeft += (currentIndexTab.offsetLeft - (nav.offsetWidth - currentIndexTab.offsetWidth) / 2 - nav.scrollLeft) / scrollDuration\n        if (++count < scrollDuration) {\n          window.requestAnimationFrame(step)\n        }\n      }\n      window.requestAnimationFrame(step)\n    }\n  }\n}\n"]}]}