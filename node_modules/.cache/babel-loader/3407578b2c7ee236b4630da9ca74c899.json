{"remainingRequest":"/Users/apple/code/js/vue-cli-3-example/node_modules/babel-loader/lib/index.js!/Users/apple/code/js/vue-cli-3-example/node_modules/@vux/loader/src/js-loader.js!/Users/apple/code/js/vue-cli-3-example/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/apple/code/js/vue-cli-3-example/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/apple/code/js/vue-cli-3-example/node_modules/@vux/loader/src/script-loader.js!/Users/apple/code/js/vue-cli-3-example/node_modules/vux/src/components/clocker/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/apple/code/js/vue-cli-3-example/node_modules/vux/src/components/clocker/index.vue","mtime":499162500000},{"path":"/Users/apple/code/js/vue-cli-3-example/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/code/js/vue-cli-3-example/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/apple/code/js/vue-cli-3-example/node_modules/@vux/loader/src/js-loader.js","mtime":499162500000},{"path":"/Users/apple/code/js/vue-cli-3-example/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/apple/code/js/vue-cli-3-example/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Users/apple/code/js/vue-cli-3-example/node_modules/@vux/loader/src/script-loader.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.number.constructor\";\n//\n//\n//\n//\n//\n//\n//\nimport Clocker from \"./clocker\";\nvar format = '%D 天 %H 小时 %M 分 %S 秒';\n\nif (typeof V_LOCALE === 'undefined') {\n  if (process.env.NODE_ENV === 'development') {\n    console.warn('[VUX warn] 抱歉，clocker 组件需要升级 vux-loader 到最新版本才能正常使用');\n  }\n} else {\n  if (V_LOCALE === 'en') {\n    // eslint-disable-line\n    format = '%D d %H h %M m %S s';\n  } else if (V_LOCALE === 'zh-CN') {\n    // eslint-disable-line\n    format = '%D 天 %H 小时 %M 分 %S 秒';\n  }\n}\n\nexport default {\n  name: 'clocker',\n  mounted: function mounted() {\n    var _this = this;\n\n    this.$nextTick(function () {\n      _this.slot = _this.$el.querySelector('.vux-clocker-tpl');\n      _this.slotString = _this.slot.innerHTML;\n\n      if (_this.slotString !== '') {\n        _this.showTimeString = false;\n      }\n\n      _this.render();\n    });\n  },\n  methods: {\n    render: function render() {\n      var _this2 = this;\n\n      if (!this.time) return;\n      this.clocker = new Clocker(this.time).on('tick', function (event) {\n        _this2.update(event);\n\n        _this2.$emit('on-tick', event);\n      }).on('finish', function () {\n        _this2.timeString = '00:00:00';\n\n        _this2.$emit('on-finish');\n      }).start();\n    },\n    update: function update(event) {\n      if (this.showTimeString) {\n        this.timeString = event.strftime(this.format);\n      } else {\n        var string = event.strftime(this.slotString);\n\n        if (string !== this.cacheSlotString) {\n          this.slot.innerHTML = this.cacheSlotString = string;\n        }\n      }\n    }\n  },\n  props: {\n    time: [String, Number],\n    format: {\n      type: String,\n      default: format\n    }\n  },\n  watch: {\n    time: function time() {\n      this.clocker && this.clocker.remove();\n      this.render();\n    }\n  },\n  data: function data() {\n    return {\n      showTimeString: true,\n      timeString: '',\n      slotString: '',\n      cacheSlotString: ''\n    };\n  },\n  beforeDestroy: function beforeDestroy() {\n    if (this.clocker) {\n      this.clocker.remove();\n      this.clocker = null;\n    }\n  }\n};",{"version":3,"sources":["/Users/apple/code/js/vue-cli-3-example/node_modules/vux/src/components/clocker/index.vue"],"names":["Clocker","format","V_LOCALE","process","env","NODE_ENV","console","warn","name","mounted","$nextTick","slot","$el","querySelector","slotString","innerHTML","showTimeString","render","methods","time","clocker","on","event","update","$emit","timeString","start","strftime","string","cacheSlotString","props","String","Number","type","default","watch","remove","data","beforeDestroy"],"mappings":"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","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n\nimport Clocker from './clocker'\n\nlet format = '%D 天 %H 小时 %M 分 %S 秒'\n\nif (typeof V_LOCALE === 'undefined') {\n  if (process.env.NODE_ENV === 'development') {\n    console.warn('[VUX warn] 抱歉，clocker 组件需要升级 vux-loader 到最新版本才能正常使用')\n  }\n} else {\n  if (V_LOCALE === 'en') { // eslint-disable-line\n    format = '%D d %H h %M m %S s'\n  } else if (V_LOCALE === 'zh-CN') { // eslint-disable-line\n    format = '%D 天 %H 小时 %M 分 %S 秒'\n  }\n}\n\nexport default {\n  name: 'clocker',\n  mounted () {\n    this.$nextTick(() => {\n      this.slot = this.$el.querySelector('.vux-clocker-tpl')\n      this.slotString = this.slot.innerHTML\n      if (this.slotString !== '') {\n        this.showTimeString = false\n      }\n      this.render()\n    })\n  },\n  methods: {\n    render () {\n      if (!this.time) return\n      this.clocker = new Clocker(this.time)\n      .on('tick', event => {\n        this.update(event)\n        this.$emit('on-tick', event)\n      })\n      .on('finish', () => {\n        this.timeString = '00:00:00'\n        this.$emit('on-finish')\n      })\n      .start()\n    },\n    update (event) {\n      if (this.showTimeString) {\n        this.timeString = event.strftime(this.format)\n      } else {\n        let string = event.strftime(this.slotString)\n        if (string !== this.cacheSlotString) {\n          this.slot.innerHTML = this.cacheSlotString = string\n        }\n      }\n    }\n  },\n  props: {\n    time: [String, Number],\n    format: {\n      type: String,\n      default: format\n    }\n  },\n  watch: {\n    time () {\n      this.clocker && this.clocker.remove()\n      this.render()\n    }\n  },\n  data () {\n    return {\n      showTimeString: true,\n      timeString: '',\n      slotString: '',\n      cacheSlotString: ''\n    }\n  },\n  beforeDestroy () {\n    if (this.clocker) {\n      this.clocker.remove()\n      this.clocker = null\n    }\n  }\n}\n"]}]}